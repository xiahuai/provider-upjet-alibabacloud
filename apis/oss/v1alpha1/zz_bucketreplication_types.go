// SPDX-FileCopyrightText: 2024 The Crossplane Authors <https://crossplane.io>
//
// SPDX-License-Identifier: Apache-2.0

// Code generated by upjet. DO NOT EDIT.

package v1alpha1

import (
	metav1 "k8s.io/apimachinery/pkg/apis/meta/v1"
	"k8s.io/apimachinery/pkg/runtime/schema"

	v1 "github.com/crossplane/crossplane-runtime/apis/common/v1"
)

type BucketReplicationInitParameters struct {

	// The operations that can be synchronized to the destination bucket. You can set action to one or more of the following operation types. Valid values: ALL(contains PUT, DELETE, and ABORT), PUT, DELETE and ABORT. Defaults to ALL.
	Action *string `json:"action,omitempty" tf:"action,omitempty"`

	// The name of the bucket.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/oss/v1alpha1.Bucket
	Bucket *string `json:"bucket,omitempty" tf:"bucket,omitempty"`

	// Reference to a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketRef *v1.Reference `json:"bucketRef,omitempty" tf:"-"`

	// Selector for a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketSelector *v1.Selector `json:"bucketSelector,omitempty" tf:"-"`

	// Specifies the destination for the rule. See destination below.
	Destination []DestinationInitParameters `json:"destination,omitempty" tf:"destination,omitempty"`

	// Specifies the encryption configuration for the objects replicated to the destination bucket. See encryption_configuration below.
	EncryptionConfiguration []EncryptionConfigurationInitParameters `json:"encryptionConfiguration,omitempty" tf:"encryption_configuration,omitempty"`

	// Specifies whether to replicate historical data from the source bucket to the destination bucket before data replication is enabled. Can be enabled or disabled. Defaults to enabled.
	HistoricalObjectReplication *string `json:"historicalObjectReplication,omitempty" tf:"historical_object_replication,omitempty"`

	// The prefixes used to specify the object to replicate. Only objects that match the prefix are replicated to the destination bucket. See prefix_set below.
	PrefixSet []PrefixSetInitParameters `json:"prefixSet,omitempty" tf:"prefix_set,omitempty"`

	// Specifies the progress for querying the progress of a data replication task of a bucket.
	Progress []ProgressInitParameters `json:"progress,omitempty" tf:"progress,omitempty"`

	// Specifies other conditions used to filter the source objects to replicate. See source_selection_criteria below.
	SourceSelectionCriteria []SourceSelectionCriteriaInitParameters `json:"sourceSelectionCriteria,omitempty" tf:"source_selection_criteria,omitempty"`

	// Specifies the role that you authorize OSS to use to replicate data. If SSE-KMS is specified to encrypt the objects replicated to the destination bucket, it must be specified.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/ram/v1alpha1.Role
	// +crossplane:generate:reference:extractor=github.com/crossplane/upjet/pkg/resource.ExtractParamPath("name",false)
	SyncRole *string `json:"syncRole,omitempty" tf:"sync_role,omitempty"`

	// Reference to a Role in ram to populate syncRole.
	// +kubebuilder:validation:Optional
	SyncRoleRef *v1.Reference `json:"syncRoleRef,omitempty" tf:"-"`

	// Selector for a Role in ram to populate syncRole.
	// +kubebuilder:validation:Optional
	SyncRoleSelector *v1.Selector `json:"syncRoleSelector,omitempty" tf:"-"`
}

type BucketReplicationObservation struct {

	// The operations that can be synchronized to the destination bucket. You can set action to one or more of the following operation types. Valid values: ALL(contains PUT, DELETE, and ABORT), PUT, DELETE and ABORT. Defaults to ALL.
	Action *string `json:"action,omitempty" tf:"action,omitempty"`

	// The name of the bucket.
	Bucket *string `json:"bucket,omitempty" tf:"bucket,omitempty"`

	// Specifies the destination for the rule. See destination below.
	Destination []DestinationObservation `json:"destination,omitempty" tf:"destination,omitempty"`

	// Specifies the encryption configuration for the objects replicated to the destination bucket. See encryption_configuration below.
	EncryptionConfiguration []EncryptionConfigurationObservation `json:"encryptionConfiguration,omitempty" tf:"encryption_configuration,omitempty"`

	// Specifies whether to replicate historical data from the source bucket to the destination bucket before data replication is enabled. Can be enabled or disabled. Defaults to enabled.
	HistoricalObjectReplication *string `json:"historicalObjectReplication,omitempty" tf:"historical_object_replication,omitempty"`

	// The current replication configuration resource ID. Composed of bucket name and rule_id with format <bucket>:<rule_id>.
	ID *string `json:"id,omitempty" tf:"id,omitempty"`

	// The prefixes used to specify the object to replicate. Only objects that match the prefix are replicated to the destination bucket. See prefix_set below.
	PrefixSet []PrefixSetObservation `json:"prefixSet,omitempty" tf:"prefix_set,omitempty"`

	// Specifies the progress for querying the progress of a data replication task of a bucket.
	Progress []ProgressObservation `json:"progress,omitempty" tf:"progress,omitempty"`

	// The ID of the data replication rule.
	RuleID *string `json:"ruleId,omitempty" tf:"rule_id,omitempty"`

	// Specifies other conditions used to filter the source objects to replicate. See source_selection_criteria below.
	SourceSelectionCriteria []SourceSelectionCriteriaObservation `json:"sourceSelectionCriteria,omitempty" tf:"source_selection_criteria,omitempty"`

	// Specifies whether to replicate objects encrypted by using SSE-KMS. Can be Enabled or Disabled.
	Status *string `json:"status,omitempty" tf:"status,omitempty"`

	// Specifies the role that you authorize OSS to use to replicate data. If SSE-KMS is specified to encrypt the objects replicated to the destination bucket, it must be specified.
	SyncRole *string `json:"syncRole,omitempty" tf:"sync_role,omitempty"`
}

type BucketReplicationParameters struct {

	// The operations that can be synchronized to the destination bucket. You can set action to one or more of the following operation types. Valid values: ALL(contains PUT, DELETE, and ABORT), PUT, DELETE and ABORT. Defaults to ALL.
	// +kubebuilder:validation:Optional
	Action *string `json:"action,omitempty" tf:"action,omitempty"`

	// The name of the bucket.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/oss/v1alpha1.Bucket
	// +kubebuilder:validation:Optional
	Bucket *string `json:"bucket,omitempty" tf:"bucket,omitempty"`

	// Reference to a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketRef *v1.Reference `json:"bucketRef,omitempty" tf:"-"`

	// Selector for a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketSelector *v1.Selector `json:"bucketSelector,omitempty" tf:"-"`

	// Specifies the destination for the rule. See destination below.
	// +kubebuilder:validation:Optional
	Destination []DestinationParameters `json:"destination,omitempty" tf:"destination,omitempty"`

	// Specifies the encryption configuration for the objects replicated to the destination bucket. See encryption_configuration below.
	// +kubebuilder:validation:Optional
	EncryptionConfiguration []EncryptionConfigurationParameters `json:"encryptionConfiguration,omitempty" tf:"encryption_configuration,omitempty"`

	// Specifies whether to replicate historical data from the source bucket to the destination bucket before data replication is enabled. Can be enabled or disabled. Defaults to enabled.
	// +kubebuilder:validation:Optional
	HistoricalObjectReplication *string `json:"historicalObjectReplication,omitempty" tf:"historical_object_replication,omitempty"`

	// The prefixes used to specify the object to replicate. Only objects that match the prefix are replicated to the destination bucket. See prefix_set below.
	// +kubebuilder:validation:Optional
	PrefixSet []PrefixSetParameters `json:"prefixSet,omitempty" tf:"prefix_set,omitempty"`

	// Specifies the progress for querying the progress of a data replication task of a bucket.
	// +kubebuilder:validation:Optional
	Progress []ProgressParameters `json:"progress,omitempty" tf:"progress,omitempty"`

	// Region is the region you'd like your resource to be created in.
	// +upjet:crd:field:TFTag=-
	// +kubebuilder:validation:Optional
	Region *string `json:"region,omitempty" tf:"-"`

	// Specifies other conditions used to filter the source objects to replicate. See source_selection_criteria below.
	// +kubebuilder:validation:Optional
	SourceSelectionCriteria []SourceSelectionCriteriaParameters `json:"sourceSelectionCriteria,omitempty" tf:"source_selection_criteria,omitempty"`

	// Specifies the role that you authorize OSS to use to replicate data. If SSE-KMS is specified to encrypt the objects replicated to the destination bucket, it must be specified.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/ram/v1alpha1.Role
	// +crossplane:generate:reference:extractor=github.com/crossplane/upjet/pkg/resource.ExtractParamPath("name",false)
	// +kubebuilder:validation:Optional
	SyncRole *string `json:"syncRole,omitempty" tf:"sync_role,omitempty"`

	// Reference to a Role in ram to populate syncRole.
	// +kubebuilder:validation:Optional
	SyncRoleRef *v1.Reference `json:"syncRoleRef,omitempty" tf:"-"`

	// Selector for a Role in ram to populate syncRole.
	// +kubebuilder:validation:Optional
	SyncRoleSelector *v1.Selector `json:"syncRoleSelector,omitempty" tf:"-"`
}

type DestinationInitParameters struct {

	// The name of the bucket.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/oss/v1alpha1.Bucket
	Bucket *string `json:"bucket,omitempty" tf:"bucket,omitempty"`

	// Reference to a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketRef *v1.Reference `json:"bucketRef,omitempty" tf:"-"`

	// Selector for a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketSelector *v1.Selector `json:"bucketSelector,omitempty" tf:"-"`

	// The region in which the destination bucket is located.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/oss/v1alpha1.Bucket
	// +crossplane:generate:reference:extractor=github.com/crossplane-contrib/provider-alibabacloud/config/common.OssBucketLocationExtractor()
	Location *string `json:"location,omitempty" tf:"location,omitempty"`

	// Reference to a Bucket in oss to populate location.
	// +kubebuilder:validation:Optional
	LocationRef *v1.Reference `json:"locationRef,omitempty" tf:"-"`

	// Selector for a Bucket in oss to populate location.
	// +kubebuilder:validation:Optional
	LocationSelector *v1.Selector `json:"locationSelector,omitempty" tf:"-"`

	// The link used to transfer data in data replication.. Can be internal or oss_acc. Defaults to internal.
	TransferType *string `json:"transferType,omitempty" tf:"transfer_type,omitempty"`
}

type DestinationObservation struct {

	// The name of the bucket.
	Bucket *string `json:"bucket,omitempty" tf:"bucket,omitempty"`

	// The region in which the destination bucket is located.
	Location *string `json:"location,omitempty" tf:"location,omitempty"`

	// The link used to transfer data in data replication.. Can be internal or oss_acc. Defaults to internal.
	TransferType *string `json:"transferType,omitempty" tf:"transfer_type,omitempty"`
}

type DestinationParameters struct {

	// The name of the bucket.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/oss/v1alpha1.Bucket
	// +kubebuilder:validation:Optional
	Bucket *string `json:"bucket,omitempty" tf:"bucket,omitempty"`

	// Reference to a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketRef *v1.Reference `json:"bucketRef,omitempty" tf:"-"`

	// Selector for a Bucket in oss to populate bucket.
	// +kubebuilder:validation:Optional
	BucketSelector *v1.Selector `json:"bucketSelector,omitempty" tf:"-"`

	// The region in which the destination bucket is located.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/oss/v1alpha1.Bucket
	// +crossplane:generate:reference:extractor=github.com/crossplane-contrib/provider-alibabacloud/config/common.OssBucketLocationExtractor()
	// +kubebuilder:validation:Optional
	Location *string `json:"location,omitempty" tf:"location,omitempty"`

	// Reference to a Bucket in oss to populate location.
	// +kubebuilder:validation:Optional
	LocationRef *v1.Reference `json:"locationRef,omitempty" tf:"-"`

	// Selector for a Bucket in oss to populate location.
	// +kubebuilder:validation:Optional
	LocationSelector *v1.Selector `json:"locationSelector,omitempty" tf:"-"`

	// The link used to transfer data in data replication.. Can be internal or oss_acc. Defaults to internal.
	// +kubebuilder:validation:Optional
	TransferType *string `json:"transferType,omitempty" tf:"transfer_type,omitempty"`
}

type EncryptionConfigurationInitParameters struct {

	// The CMK ID used in SSE-KMS.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/kms/v1alpha1.Key
	// +crossplane:generate:reference:extractor=github.com/crossplane/upjet/pkg/resource.ExtractResourceID()
	ReplicaKMSKeyID *string `json:"replicaKmsKeyId,omitempty" tf:"replica_kms_key_id,omitempty"`

	// Reference to a Key in kms to populate replicaKmsKeyId.
	// +kubebuilder:validation:Optional
	ReplicaKMSKeyIDRef *v1.Reference `json:"replicaKmsKeyIdRef,omitempty" tf:"-"`

	// Selector for a Key in kms to populate replicaKmsKeyId.
	// +kubebuilder:validation:Optional
	ReplicaKMSKeyIDSelector *v1.Selector `json:"replicaKmsKeyIdSelector,omitempty" tf:"-"`
}

type EncryptionConfigurationObservation struct {

	// The CMK ID used in SSE-KMS.
	ReplicaKMSKeyID *string `json:"replicaKmsKeyId,omitempty" tf:"replica_kms_key_id,omitempty"`
}

type EncryptionConfigurationParameters struct {

	// The CMK ID used in SSE-KMS.
	// +crossplane:generate:reference:type=github.com/crossplane-contrib/provider-alibabacloud/apis/kms/v1alpha1.Key
	// +crossplane:generate:reference:extractor=github.com/crossplane/upjet/pkg/resource.ExtractResourceID()
	// +kubebuilder:validation:Optional
	ReplicaKMSKeyID *string `json:"replicaKmsKeyId,omitempty" tf:"replica_kms_key_id,omitempty"`

	// Reference to a Key in kms to populate replicaKmsKeyId.
	// +kubebuilder:validation:Optional
	ReplicaKMSKeyIDRef *v1.Reference `json:"replicaKmsKeyIdRef,omitempty" tf:"-"`

	// Selector for a Key in kms to populate replicaKmsKeyId.
	// +kubebuilder:validation:Optional
	ReplicaKMSKeyIDSelector *v1.Selector `json:"replicaKmsKeyIdSelector,omitempty" tf:"-"`
}

type PrefixSetInitParameters struct {

	// The list of object key name prefix identifying one or more objects to which the rule applies.
	Prefixes []*string `json:"prefixes,omitempty" tf:"prefixes,omitempty"`
}

type PrefixSetObservation struct {

	// The list of object key name prefix identifying one or more objects to which the rule applies.
	Prefixes []*string `json:"prefixes,omitempty" tf:"prefixes,omitempty"`
}

type PrefixSetParameters struct {

	// The list of object key name prefix identifying one or more objects to which the rule applies.
	// +kubebuilder:validation:Optional
	Prefixes []*string `json:"prefixes" tf:"prefixes,omitempty"`
}

type ProgressInitParameters struct {
}

type ProgressObservation struct {

	// The percentage of the replicated historical data. This element is valid only when historical_object_replication is set to enabled.
	HistoricalObject *string `json:"historicalObject,omitempty" tf:"historical_object,omitempty"`

	// The time used to distinguish new data from historical data. Data that is written to the source bucket before the time is replicated to the destination bucket as new data. The value of this element is in GMT.
	NewObject *string `json:"newObject,omitempty" tf:"new_object,omitempty"`
}

type ProgressParameters struct {
}

type SourceSelectionCriteriaInitParameters struct {

	// Filter source objects encrypted by using SSE-KMS. See sse_kms_encrypted_objects below.
	SseKMSEncryptedObjects []SseKMSEncryptedObjectsInitParameters `json:"sseKmsEncryptedObjects,omitempty" tf:"sse_kms_encrypted_objects,omitempty"`
}

type SourceSelectionCriteriaObservation struct {

	// Filter source objects encrypted by using SSE-KMS. See sse_kms_encrypted_objects below.
	SseKMSEncryptedObjects []SseKMSEncryptedObjectsObservation `json:"sseKmsEncryptedObjects,omitempty" tf:"sse_kms_encrypted_objects,omitempty"`
}

type SourceSelectionCriteriaParameters struct {

	// Filter source objects encrypted by using SSE-KMS. See sse_kms_encrypted_objects below.
	// +kubebuilder:validation:Optional
	SseKMSEncryptedObjects []SseKMSEncryptedObjectsParameters `json:"sseKmsEncryptedObjects,omitempty" tf:"sse_kms_encrypted_objects,omitempty"`
}

type SseKMSEncryptedObjectsInitParameters struct {

	// Specifies whether to replicate objects encrypted by using SSE-KMS. Can be Enabled or Disabled.
	Status *string `json:"status,omitempty" tf:"status,omitempty"`
}

type SseKMSEncryptedObjectsObservation struct {

	// Specifies whether to replicate objects encrypted by using SSE-KMS. Can be Enabled or Disabled.
	Status *string `json:"status,omitempty" tf:"status,omitempty"`
}

type SseKMSEncryptedObjectsParameters struct {

	// Specifies whether to replicate objects encrypted by using SSE-KMS. Can be Enabled or Disabled.
	// +kubebuilder:validation:Optional
	Status *string `json:"status,omitempty" tf:"status,omitempty"`
}

// BucketReplicationSpec defines the desired state of BucketReplication
type BucketReplicationSpec struct {
	v1.ResourceSpec `json:",inline"`
	ForProvider     BucketReplicationParameters `json:"forProvider"`
	// THIS IS A BETA FIELD. It will be honored
	// unless the Management Policies feature flag is disabled.
	// InitProvider holds the same fields as ForProvider, with the exception
	// of Identifier and other resource reference fields. The fields that are
	// in InitProvider are merged into ForProvider when the resource is created.
	// The same fields are also added to the terraform ignore_changes hook, to
	// avoid updating them after creation. This is useful for fields that are
	// required on creation, but we do not desire to update them after creation,
	// for example because of an external controller is managing them, like an
	// autoscaler.
	InitProvider BucketReplicationInitParameters `json:"initProvider,omitempty"`
}

// BucketReplicationStatus defines the observed state of BucketReplication.
type BucketReplicationStatus struct {
	v1.ResourceStatus `json:",inline"`
	AtProvider        BucketReplicationObservation `json:"atProvider,omitempty"`
}

// +kubebuilder:object:root=true
// +kubebuilder:subresource:status
// +kubebuilder:storageversion

// BucketReplication is the Schema for the BucketReplications API. Provides a OSS bucket replication configuration resource.
// +kubebuilder:printcolumn:name="SYNCED",type="string",JSONPath=".status.conditions[?(@.type=='Synced')].status"
// +kubebuilder:printcolumn:name="READY",type="string",JSONPath=".status.conditions[?(@.type=='Ready')].status"
// +kubebuilder:printcolumn:name="EXTERNAL-NAME",type="string",JSONPath=".metadata.annotations.crossplane\\.io/external-name"
// +kubebuilder:printcolumn:name="AGE",type="date",JSONPath=".metadata.creationTimestamp"
// +kubebuilder:resource:scope=Cluster,categories={crossplane,managed,alibabacloud}
type BucketReplication struct {
	metav1.TypeMeta   `json:",inline"`
	metav1.ObjectMeta `json:"metadata,omitempty"`
	// +kubebuilder:validation:XValidation:rule="!('*' in self.managementPolicies || 'Create' in self.managementPolicies || 'Update' in self.managementPolicies) || has(self.forProvider.destination) || (has(self.initProvider) && has(self.initProvider.destination))",message="spec.forProvider.destination is a required parameter"
	Spec   BucketReplicationSpec   `json:"spec"`
	Status BucketReplicationStatus `json:"status,omitempty"`
}

// +kubebuilder:object:root=true

// BucketReplicationList contains a list of BucketReplications
type BucketReplicationList struct {
	metav1.TypeMeta `json:",inline"`
	metav1.ListMeta `json:"metadata,omitempty"`
	Items           []BucketReplication `json:"items"`
}

// Repository type metadata.
var (
	BucketReplication_Kind             = "BucketReplication"
	BucketReplication_GroupKind        = schema.GroupKind{Group: CRDGroup, Kind: BucketReplication_Kind}.String()
	BucketReplication_KindAPIVersion   = BucketReplication_Kind + "." + CRDGroupVersion.String()
	BucketReplication_GroupVersionKind = CRDGroupVersion.WithKind(BucketReplication_Kind)
)

func init() {
	SchemeBuilder.Register(&BucketReplication{}, &BucketReplicationList{})
}
